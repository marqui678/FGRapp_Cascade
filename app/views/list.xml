<Alloy>
	
	<!-- create global instance of collection we'll bind -->	
	<Collection src="feed"/>
	<Window id="lwin" title="Free Group Rides">
		<!-- Android: Add MenuItem for refresh -->		
		<Menu platform="android">
			<MenuItem icon="images/ic_action_action_autorenew.png" onClick="refresh" showAsAction="Ti.Android.SHOW_AS_ACTION_ALWAYS" />
		</Menu>
		<ListView id="listView" platform="ios,android" defaultItemTemplate="template" onItemclick="select">	
			<!-- iOS RefreshControl -->
			<RefreshControl platform="ios" id="refreshControl" onRefreshstart="refresh" />
			<!-- search, shorthand with Ti.UI.SearchBar -->
	      <SearchBar id="search"/>
			<Templates>
				<ItemTemplate name="template" class="item">
					<View id="firstLine">
	                    <Label class="line1" bindId="title" id="title" />
						<View id="secondLine">
							<ImageView class="line2" width="20" image="Date.png"></ImageView>
							<Label class="line2" bindId="startDateTime" id="startDateTime" />
							<View id="thirdLine">
								<Label class="line3" bindId="paceNumber" id="paceNumber" backgroundImage="pace.png"/>
					            <Label class="line3" bindId="pace" id="pace" />
					            <Label class="line3" bindId="distanceOne" id="distanceOne"/>
					            <Label class="line3" bindId="distanceTwo" id="distanceTwo"/>
					        </View>
					    </View>
                	</View>
				</ItemTemplate>
			</Templates>
			
			<!-- Alloy data-binding -->

			<ListSection id="listSection" dataCollection="feed" dataTransform="transform">
				<ListItem itemId="{link}" distanceTwo:text="{distanceTwo}" searchableText="{title}" title:text="{title}" pace:text="{pace}" paceNumber:text="{paceNumber}" startDateTime:text="{startDateTime}" distanceOne:text="{distanceOne}"  />
			</ListSection>
			
		</ListView>
		<Button onClick="openMapview" top="0" right="0">To map</Button>
		<Button onClick="filter" bottom="0" right="0">Filter</Button>
		<Button onClick="openSortView" bottom="0" left="0">Sort</Button>
		
	</Window>
	
</Alloy>